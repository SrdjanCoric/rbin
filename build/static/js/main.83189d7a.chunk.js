(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{32:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(26),l=c.n(s),i=(c(32),c(8)),o=c(0),b=function(e){var t=e.data,c=(t=JSON.parse(t)).headers,n=t.method,r=t.timestamp,s=t.body;console.log(s,typeof s,s.constructor);var l=t.query_params,i=!!c["Content-Type"]&&"application/json"===c["Content-Type"];console.log(i);var b="ml-8 text-xs";return Object(o.jsx)("div",{class:"p-3 mt-3 bg-indigo-200 border-2 border-indigo-400 rounded inline-block",children:Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:["timestamp: ",Object(o.jsxs)("code",{children:[r,Object(o.jsx)("br",{})]})]}),Object(o.jsxs)("li",{children:["method: ",Object(o.jsx)("code",{children:n})," ",Object(o.jsx)("br",{})]}),Object(o.jsxs)("li",{children:["headers: ",Object(o.jsx)("br",{}),Object(o.jsx)("code",{children:Object(o.jsx)("ul",{children:Object.keys(c).map((function(e){return Object(o.jsxs)("li",{class:b,children:[" ",e,": ",c[e],Object(o.jsx)("br",{})," "]},e)}))})})]}),Object(o.jsxs)("li",{children:["query parameters: ",Object(o.jsx)("br",{}),Object(o.jsx)("code",{children:Object(o.jsx)("ul",{children:Object.keys(l).map((function(e){return Object(o.jsxs)("li",{class:b,children:[e,": ",l[e]]},e)}))})})]}),Object(o.jsxs)("li",{children:["body: ",i?Object(o.jsx)("code",{children:JSON.stringify(s)}):null]})]})})},a=c(2),j=c(11),d=c(14),u=c.n(d),h={get:function(e){return u.a.get("/data/".concat(e)).then((function(e){return console.log(e.data),e.data})).catch((function(e){console.log(e)}))},create:function(){return u.a.post("/bins").then((function(e){return e.data.uri}))}},x=function(){var e=Object(a.f)(),t=Object(n.useState)(!0),c=Object(j.a)(t,2),r=c[0],s=c[1];return Object(o.jsxs)("div",{class:"pt-10 text-xl flex flex-col items-center ",children:[Object(o.jsx)("p",{class:"inline-block font-bold text-2xl",children:"Welcome!"}),Object(o.jsx)("p",{class:"mt-8 inline-block ",children:"Request Tub is a place where you can send your API calls or webhooks to gain valuable insight on their structure."}),Object(o.jsx)("p",{class:"mt-8 inline-block ",children:"Tubs are ephemeral and disappear after 48 hours, and hold only the latest 20 requests."}),Object(o.jsx)("p",{class:"mt-8 inline-block ",children:'Click "Create Tub" to get started!'}),Object(o.jsx)("button",{disabled:r,class:"mt-8 bg-blue-500 hover:bg-blue-700 disabled:bg-gray-300 disabled:border-gray-500 text-white font-bold py-2 px-4 border border-blue-700 rounded",onClick:function(t){t.preventDefault(),s(!1);h.create().then((function(t){e.push("/bin/".concat(t))}))},children:"Create Tub"})]})},O=function(e){var t=e.slug,c=Object(n.useState)(null),r=Object(j.a)(c,2),s=r[0],l=r[1],i=Object(a.f)();return Object(n.useEffect)((function(){h.get(t).then((function(e){if(e){console.log("tub",e);var t=e.requests;t.sort((function(e,t){return new Date(e.timestamp)<new Date(t.timestamp)?1:-1})),l(t)}else i.push("/")}))}),[]),Object(o.jsxs)("main",{children:[Object(o.jsx)("h3",{class:"mt-8 text-center text-2xl",children:"Tub API URL:"}),Object(o.jsx)("h4",{class:"mt-2 text-center text-2xl mb-1.5",children:Object(o.jsx)("code",{class:"bg-gray-300 border-2 border-gray-400 hover:bg-gray-400 hover:border-gray-500 p-2 rounded",children:"http://localhost:4000/".concat(t)})}),Object(o.jsx)("div",{class:"flex flex-col items-center",children:s&&s.map((function(e){return Object(o.jsx)(b,{data:JSON.stringify(e)},e.timestamp)}))})]})},p=function(){return Object(o.jsx)("h1",{class:" bg-purple-200 text-purple-900 text-center border-black font-bold p-6 text-5xl",children:Object(o.jsx)(i.b,{to:"/",class:"hover:text-indigo-500",children:"Request Tub"})})},f=((new Date).toString(),function(){var e,t=Object(a.g)("/bin/:slug"),c=null===t||void 0===t||null===(e=t.params)||void 0===e?void 0:e.slug;return Object(o.jsxs)("div",{children:[Object(o.jsx)(p,{}),Object(o.jsxs)(a.c,{children:[Object(o.jsx)(a.a,{path:"/bin/:slug",children:Object(o.jsx)(O,{slug:c})}),Object(o.jsx)(a.a,{path:"/",children:Object(o.jsx)(x,{})})]})]})});l.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(i.a,{children:Object(o.jsx)(f,{})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.83189d7a.chunk.js.map
{"version":3,"sources":["components/Request.js","services/bins.js","components/Home.js","components/Bin.js","components/Header.js","App.js","index.js"],"names":["Request","data","headers","JSON","parse","method","timestamp","body","console","log","constructor","queryParams","query_params","isJson","nestedClass","class","Object","keys","map","key","stringify","bins","get","slug","axios","then","response","catch","err","create","post","uri","Home","history","useHistory","useState","disabled","setDisabled","onClick","e","preventDefault","push","Bin","tub","setTub","useEffect","result","requests","sort","a","b","Date","request","Header","to","App","toString","match","useRouteMatch","params","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.806a929b.chunk.js","sourcesContent":["\n/*\n[URI] => {\n    \"Requests\": [\n      {\n        \"timestamp\": \"\",\n        \"method\": \"\",\n        \"query_params\": [\n          \"\": \"\" , (...)\n        ],\n        \"headers\": [\n          \"\" : \"\", (...)\n        ],\n        \"body\": \"\"\n      }, (...)\n    ]\n  }\n*/\nconst Request = ({ data }) => {\n  data = JSON.parse(data);\n  const headers = data.headers;\n  const method = data.method;\n  const timestamp = data.timestamp;\n  const body = data.body;\n  console.log(body, typeof body, body.constructor)\n  const queryParams = data.query_params;\n  const isJson = !!headers['Content-Type'] && headers['Content-Type']  === 'application/json'\n  console.log(isJson)\n  const nestedClass = \"ml-8 text-xs\"\n  return (\n    <div class=\"p-3 mt-3 bg-indigo-200 border-2 border-indigo-400 rounded inline-block\">\n    <ul>\n      <li>timestamp: <code>{timestamp}<br /></code></li>\n      <li>method: <code>{method}</code> <br /></li>\n      <li>\n        headers: <br />\n        <code>\n          <ul>\n            {Object.keys(headers).map(key => \n              <li class={nestedClass} key={key}> {key}: {headers[key]}<br/> </li>\n            )}\n          </ul>\n        </code>\n      </li>\n\n      <li>\n        query parameters: <br />\n        <code>\n          <ul>\n            {Object.keys(queryParams).map(key => \n              <li class={nestedClass} key={key}>{key}: {queryParams[key]}</li>\n            )}\n          </ul>\n        </code>\n      </li>\n      <li>\n        body: {isJson ? <code>{JSON.stringify(body)}</code> : null }\n      </li>\n    </ul>\n  </div>\n  );\n}\n\nexport default Request;","import axios from 'axios'\n\nconst get = (slug) => {\n  const request = axios.get(`/data/${slug}`)\n  return request.then(response => {\n    console.log(response.data)\n    return response.data\n  }).catch(err => {\n      console.log(err)\n    })\n}\n\nconst create = () => {\n  const request = axios.post('/bins')\n  return request.then(response => response.data.uri)\n}\n\nconst bins = {\n  get,\n  create\n}\n\nexport default bins","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport bins from '../services/bins'\n\nconst Home = () => {\n  const history = useHistory();\n  const [disabled, setDisabled] = useState(false);\n  \n  const createBin = (e) => {\n    e.preventDefault();\n    setDisabled(true);\n    const uri = bins.create().then(uri => { \n      history.push(`/bin/${uri}`);\n    });\n  }\n\n  return (\n    <div class=\"pt-10 text-xl flex flex-col items-center \">\n      <p class=\"inline-block font-bold text-2xl\">Welcome!</p>\n      <p class=\"mt-8 inline-block \">Request Tub is a place where you can send your API calls or webhooks to gain valuable insight on their structure.</p>\n      <p class=\"mt-8 inline-block \">Tubs are ephemeral and disappear after 48 hours, and hold only the latest 20 requests.</p>\n      <p class=\"mt-8 inline-block \">Click \"Create Tub\" to get started!</p>\n      <button disabled={disabled} class=\"mt-8 bg-blue-500 hover:bg-blue-700 disabled:bg-gray-300 disabled:border-gray-500 text-white font-bold py-2 px-4 border border-blue-700 rounded\" onClick={createBin}>Create Tub</button>\n    </div>\n  )\n};\n\nexport default Home;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport bins from '../services/bins'\nimport Request from './Request'\n\nconst Bin = ({ slug }) => {\n  const [tub, setTub] = useState(null)\n//    uri: 'http://dummy.net',\n//    request: [\n//      {\n//        timestamp: new Date().toString(),\n//        method: \"POST\",\n//        query_params: {\n//          amount: \"400\",\n//          length: \"60\",\n//          width: \"30\",\n//        },\n//        headers: {\n//          header1: \"value1\",\n//          header2: \"value2\",\n//        },\n//        body: '{\"Hi\":\"I\\'m json\"}'\n//      },\n//      {\n//        timestamp: new Date().toString(),\n//        method: \"POST\",\n//        query_params: {\n//          amount: \"400\",\n//          length: \"60\",\n//          width: \"30\",\n//        },\n//        headers: {\n//          header1: \"value1\",\n//          header2: \"value2\",\n//        },\n//        body: '{\"Hi\":\"I\\'m json\"}'\n//      },\n//      {\n//        timestamp: new Date().toString(),\n//        method: \"POST\",\n//        query_params: {\n//          amount: \"400\",\n//          length: \"60\",\n//          width: \"30\",\n//        },\n//        headers: {\n//          header1: \"value1\",\n//          header2: \"value2\",\n//        },\n//        body: '{\"Hi\":\"I\\'m json\"}'\n//      }\n//    ]\n\n  const history = useHistory()\n\n  useEffect(() => {\n    bins.get(slug).then(result => {\n      if (result) {\n        console.log('tub', result);\n        let requests = result.requests;\n        requests.sort((a, b) => {\n          let date1 = new Date(a.timestamp);\n          let date2 = new Date(b.timestamp);\n          return date1 < date2 ? 1 : -1;\n        })\n        setTub(requests)\n      } else {\n        // TODO: render 404 page instead\n        history.push('/')\n      }\n    })\n  }, [])\n  \n  return (\n    // <p>\n    // <p>in tub {slug}</p>\n    // <p>{JSON.stringify(tub)}</p>\n    // </p>\n    <main>\n      <h3 class=\"mt-8 text-center text-2xl\">Tub API URL:</h3>\n      <h4 class=\"mt-2 text-center text-2xl mb-1.5\"><code class=\"bg-gray-300 border-2 border-gray-400 hover:bg-gray-400 hover:border-gray-500 p-2 rounded\">{`http://localhost:4000/${slug}`}</code></h4>\n      <div class=\"flex flex-col items-center\">\n        {tub &&\n          tub.map(request => \n            <Request  key={request.timestamp} data={JSON.stringify(request)} />\n          )\n        }\n      </div>\n    </main>\n  )\n}\n\nexport default Bin;","import React from 'react';\nimport { Link } from 'react-router-dom';\nconst Header = () => {\n\n  return ( \n    <h1 class=\" bg-purple-200 text-purple-900 text-center border-black font-bold p-6 text-5xl\">\n      <Link to='/' class=\"hover:text-indigo-500\">Request Tub</Link>\n    </h1>\n  )\n}\n\nexport default Header","import Request from './components/Request'\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Link, useParams,\n  useRouteMatch\n} from 'react-router-dom'\nimport Home from './components/Home'\nimport Bin from './components/Bin'\nimport Header from './components/Header'\n\n/*\n  Bin:\n    Requests (list, sort by timestamp)\n      URI\n      timestamp\n      Headers (list, collapseable)\n      Parameters (list, collapseable)\n      Body\n        switch on encoding type?\n*/\nconst json = {\n  timestamp: new Date().toString(),\n  method: \"POST\",\n  query_params: {\n    amount: \"400\",\n    length: \"60\",\n    width: \"30\",\n  },\n  headers: {\n    header1: \"value1\",\n    header2: \"value2\",\n  },\n  body: '{\"Hi\":\"I\\'m json\"}'\n}\nconst  App = () => {\n  const match = useRouteMatch('/bin/:slug')\n  const slug = match?.params?.slug\n  return (\n    //<Request data={json} />\n    <div>\n      <Header />\n      <Switch>\n        <Route path=\"/bin/:slug\">\n          <Bin slug={slug}/>\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}